/*! ng-catwalk by Adam Timberlake <adam.timberlake@gmail.com> created on 2014-06-20 */
!function(a){"use strict";var b=a.module("ngCatwalk",["ngCrossfilter"]),c={string:function(a){return function(b){return"undefined"==typeof b?this._default(a,""):String(b)}.bind(this)},autoincrement:function(){var a=0;return function(){return++a}.bind(this)},number:function(a){return function(b){return"undefined"==typeof b?this._default(a,0):Number(b)}.bind(this)},_default:function(a,b){return"undefined"==typeof a?b:a}};b.service("catwalk",["$rootScope","Crossfilter",function(a,b){function d(){}return d.prototype={_collections:{},attribute:c,collection:function(a,c){if(this._collections[a]||(this._collections[a]=new b([])),c){this._collections[a].primaryKey(c._primaryKey),this._collections[a].blueprint=c;for(var d in c)c.hasOwnProperty(d)&&this._collections[a].addDimension(d)}return this._collections[a]},createModel:function(a,b){var c=this._prepareModel(a,b);this.collection(a).addModel(c)},_prepareModel:function(a,b){b=b||{};var c=this.collection(a).blueprint;for(var d in c)if(c.hasOwnProperty(d)){if("_"===d.charAt(0))continue;var e=c[d];"undefined"==typeof b[d]&&(b[d]=void 0),b[d]=e(b[d])}return b}},new d}])}(window.angular);