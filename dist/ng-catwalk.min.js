/*! ng-catwalk by Adam Timberlake <adam.timberlake@gmail.com> created on 2014-06-29 */
!function(a){"use strict";var b=a.module("ngCatwalk",["ngCrossfilter"]),c={generic:function(a){return a},number:function(a){return+a}},d={};b.service("catwalk",["$rootScope","$q","$interpolate","Crossfilter",function(a,b,e,f){function g(){}return g.prototype={attribute:c,relationship:d,_primaryName:"__catwalkId__",_primaryIndex:0,_silent:!1,_eventName:"catwalk/{{type}}/{{collection}}",_collections:{},collection:function(a,b){if(this._collections[a]||(this._collections[a]=new f([])),b){b[this._primaryName]=this.attribute.number(),this._collections[a].primaryKey(this._primaryName),this._collections[a].blueprint=b;for(var c in b)b.hasOwnProperty(c)&&this._collections[a].addDimension(c)}return this._collections[a]},silently:function(a){this._silent=!0,a.apply(this),this._silent=!1},createModel:function(a,b){var c=this.collection(a).createModel(b),d=this.createPromise(a,"create",[c]);return d.catch(function(){}),c},revertCreateModel:function(){},updateModel:function(){},revertUpdateModel:function(){},deleteModel:function(){},revertDeleteModel:function(){},createPromise:function(c,d,f){var g=b.defer();Array.isArray(f)||(f=f?[f]:[]),f.unshift(g);var h=e(this._eventName)({type:d,collection:c});return a.$broadcast.call(this,h,f),g.promise},createHasManyRelationship:function(){},createHasOneRelationship:function(){}},new g}])}(window.angular);